@model DotNetForever.Web.ViewModels.PurchaseDetailsViewModel

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


    <h4>Purchase Product</h4>
    <hr />

<form id="PurchaseForm" method="post">
        <div class="row col-md-12">
            <!--Supplier Details -->
            <div class="col-md-12">
                <h6>Supplier</h6><hr />
                <div class="row">
                    <div class="col-md-3">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label">Supplier</label>
                            <div class="col-sm-9">
                                <select id="SupplierId" name="SupplierId" class="form-control" size="1">
                                    <option value="">Select One</option>
                                    @if (Model.Suppliers != null)
                                    {
                                        foreach (var supplier in Model.Suppliers)
                                        {
                                            <option value="@supplier.Id">@supplier.Name</option>
                                        }
                                    }

                                </select>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-3">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label">Invoice No.</label>
                            <div class="col-sm-7">
                                <input type="text" class="form-control" id="InvoiceNo" name="InvoiceNo" placeholder="Enter invoice no.">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label">Code</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="Code" name="Code" value="@Model.Code">
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3">
                        @*<div class="form-group row ml-2">
                            <label class="col-sm-2 col-form-label">Date</label>
                            <div class="col-sm-10">
                                <input type="date" class="form-control" id="DateTime" name="DateTime">
                            </div>
                        </div>*@

                        <div class="form-group row ml-2">
                            <label class="col-sm-2 col-form-label">Date</label>
                            <div class="col-sm-10">
                                <input @*type="date"*@ class="form-control"  id="dateTime" name="dateTime">
                            </div>
                        </div>
                    </div>

                </div>
                <hr />
            </div>

            <!--Product Details -->
            <div class="col-md-12">
                <h6>Product</h6><hr />
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Category</label>
                            <div class="col-sm-8">
                                <select id="categoryId" name="categoryId" class="form-control" size="1">
                                    <option value="">Select One</option>
                                    @if (Model.Categories != null)
                                    {
                                        foreach (var category in Model.Categories)
                                        {
                                            <option value="@category.Id">@category.Name</option>
                                        }
                                    }


                                </select>
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Product</label>
                            <div class="col-sm-8">
                                <select id="ProductId" name="ProductId" class="form-control" size="1">
                                    <option value="" >Select One</option>
                                    @*@if (Model.Products != null)
                                    {
                                        foreach (var product in Model.Products)
                                        {
                                            <option value="@product.Id.">@product.Name</option>
                                        }
                                    }*@


                                </select>
                            </div>
                        </div>


                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Code</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="ProductCode" name="ProductCode" disabled>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Available Qty</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="AvailableQty" name="AvailableQty" disabled>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-4">

                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Manuf. Date</label>
                            <div class="col-sm-8">
                                <input @*type="date"*@ class="form-control" id="ManufacturedDateTime" name="ManufacturedDateTime">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Expire Date</label>
                            <div class="col-sm-8">
                                <input @*type="date"*@ class="form-control" id="ExpireDate" name="ExpireDate">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Quantity</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="Quantity" name="Quantity" placeholder="Enter quantity">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Unit Price(Tk)</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="UnitPrice" name="UnitPrice" placeholder="Enter unit price">
                            </div>
                        </div>

                    </div>
                    <div class="col-md-4">

                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Total Price(Tk)</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="TotalPrice" name="TotalPrice" disabled>
                                <span id="NameError"></span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Pre. Unit Price</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="PreviousUnitPrice" name="PreviousUnitPrice" disabled>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">MRP(Tk)</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="MRP" name="MRP" placeholder="Enter MRP">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Pre. MRP(Tk)</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="PreviousMRP" name="PreviousMRP" disabled>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-8">
                        @*<div class="input-group-prepend">
                            <span class="input-group-text">Remarks</span>
                        </div>
                        <textarea class="form-control" aria-label="With textarea" id="Remarks" name="Remarks"></textarea>*@

                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label">Remarks</label>
                            <div class="col-sm-10">
                                <textarea class="form-control" aria-label="With textarea" id="Remarks" name="Remarks"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <button id="addButton" type="button" class="btn btn-primary"><i class="fas fa-plus mr-2"></i>Add</button>
                    </div>

                </div>

                <hr />
            </div>

        </div>
   

        <div class="card bg-light overflow-auto" >
            @*@if (Model != null && Model.Count>0)
        {*@
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">#</th>
                            @*<th scope="col">Productid</th>*@
                            <th scope="col">Productname</th>
                            <th scope="col">Manuf. Date</th>
                            <th scope="col">Expire Date</th>
                            <th scope="col">Quantity</th>
                            <th scope="col">Unit Price</th>
                            <th scope="col">Total Price</th>
                            <th scope="col">MRP</th>
                            <th scope="col">Remarks</th>
                            @*<th scope="col">Action</th>*@
                        </tr>
                    </thead>
                    <tbody id="ProductListTable" style="color: white">
                        @*@{
                        var i = 0;
                        foreach (var product in Model.PurchaseDetail)
                        {
                            i++;

                            <tr>
                                <td>@i</td>
                                <td>@product.Category.Name</td>
                                <td>@product.Code</td>
                                <td>@product.Name</td>
                                <td>@product.RecorderLevel</td>
                                <td>@product.Description</td>
                                <td>
                                    <button  type="button" class="editButton btn btn-primary" data-id="@product.Id" data-toggle="modal" data-target="#editModal"><i class="fas fa-pen mr-2"></i>Edit</button>
                                    <button  type="button" class="deleteButton btn btn-danger" data-id="@product.Id"><i class="fas fa-trash-alt mr-2"></i>Delete</button>
                                </td>

                            </tr>
                        }

                    }*@

                    </tbody>
                </table>
            </div>

            @*}
        else
        {
            <hr/>
            <div class="alert alert-warning" role="alert">
                Sorry! No product record found.
            </div>
        }*@

            <button id="submitButton" type="button" class="btn btn-primary"><i class="fas fa-plus mr-2"></i>Submit</button>
            @*<input type="submit" value="Save" />*@
        </div>
</form>
<script src="~/Contents/CustomValidation/Purchase.js"></script>
<script>
    //function getTodayDate() {
    //    var date = new Date();
    //    var currentDate = (date.getMonth() + 1) + "/" + date.getDate() + "/" + date.getFullYear();
    //    return currentDate;
    //}

    //$("#dateTime").datepicker();
    //$("#dateTime").val(getTodayDate());

    //$("#ManufacturedDateTime").datepicker();
    //$("#ManufacturedDateTime").val(getTodayDate());

    //$("#ExpireDate").datepicker();
    //$("#ExpireDate").val(getTodayDate());


</script>
